extends  _skeleton
include _ui-sidebar

block body
  body.maps-basic-page
    // Start: Theme Preview Pane
    #skin-toolbox.bg-white
      .panel
        .br-b.panel-heading
          span.panel-icon
            i.fa.fa-gear.text-primary
          span.panel-title  Theme Options
        .panel-body.pn
          ul.nav.nav-list.nav-list-sm.pl15.pt10(role='tablist')
            li.active
              a(href='#toolbox-header', role='tab', data-toggle='tab') Navbar
            li
              a(href='#toolbox-sidebar', role='tab', data-toggle='tab') Sidebar
            li
              a(href='#toolbox-settings', role='tab', data-toggle='tab') Misc
          .tab-content.p20.ptn.pb15
            #toolbox-header.tab-pane.active(role='tabpanel')
              form#toolbox-header-skin
                h4.mv20 Header Skins
                .skin-toolbox-swatches
                  .checkbox-custom.checkbox-disabled.fill.mb5
                    input#headerSkin8(type='radio', name='headerSkin', checked='', value='')
                    label(for='headerSkin8') Light
                  .checkbox-custom.fill.checkbox-primary.mb5
                    input#headerSkin1(type='radio', name='headerSkin', value='bg-primary')
                    label(for='headerSkin1') Primary
                  .checkbox-custom.fill.checkbox-info.mb5
                    input#headerSkin3(type='radio', name='headerSkin', value='bg-info')
                    label(for='headerSkin3') Info
                  .checkbox-custom.fill.checkbox-warning.mb5
                    input#headerSkin4(type='radio', name='headerSkin', value='bg-warning')
                    label(for='headerSkin4') Warning
                  .checkbox-custom.fill.checkbox-danger.mb5
                    input#headerSkin5(type='radio', name='headerSkin', value='bg-danger')
                    label(for='headerSkin5') Danger
                  .checkbox-custom.fill.checkbox-alert.mb5
                    input#headerSkin6(type='radio', name='headerSkin', value='bg-alert')
                    label(for='headerSkin6') Alert
                  .checkbox-custom.fill.checkbox-system.mb5
                    input#headerSkin7(type='radio', name='headerSkin', value='bg-system')
                    label(for='headerSkin7') System
                  .checkbox-custom.fill.checkbox-success.mb5
                    input#headerSkin2(type='radio', name='headerSkin', value='bg-success')
                    label(for='headerSkin2') Success
                  .checkbox-custom.fill.mb5
                    input#headerSkin9(type='radio', name='headerSkin', value='bg-dark')
                    label(for='headerSkin9') Dark
            #toolbox-sidebar.tab-pane(role='tabpanel')
              form#toolbox-sidebar-skin
                h4.mv20 Sidebar Skins
                .skin-toolbox-swatches
                  .checkbox-custom.fill.mb5
                    input#sidebarSkin3(type='radio', name='sidebarSkin', checked='', value='')
                    label(for='sidebarSkin3') Dark
                  .checkbox-custom.fill.checkbox-disabled.mb5
                    input#sidebarSkin1(type='radio', name='sidebarSkin', value='sidebar-light')
                    label(for='sidebarSkin1') Light
                  .checkbox-custom.fill.checkbox-light.mb5
                    input#sidebarSkin2(type='radio', name='sidebarSkin', value='sidebar-light light')
                    label(for='sidebarSkin2') Lighter
            #toolbox-settings.tab-pane(role='tabpanel')
              form#toolbox-settings-misc
                h4.mv20.mtn Layout Options
                .form-group
                  .checkbox-custom.fill.mb5
                    input#header-option(type='checkbox', checked='')
                    label(for='header-option') Fixed Header
                .form-group
                  .checkbox-custom.fill.mb5
                    input#sidebar-option(type='checkbox', checked='')
                    label(for='sidebar-option') Fixed Sidebar
                .form-group
                  .checkbox-custom.fill.mb5
                    input#breadcrumb-option(type='checkbox')
                    label(for='breadcrumb-option') Fixed Breadcrumbs
                .form-group
                  .checkbox-custom.fill.mb5
                    input#breadcrumb-hidden(type='checkbox')
                    label(for='breadcrumb-hidden') Hide Breadcrumbs

          .form-group.mn.br-t.p15
            a#clearLocalStorage.btn.btn-primary.btn-block.pb10.pt10(href='#') Clear LocalStorage
    // Start: Main
    #main
      // Page Header
      block header
        include _header
      // Start: Sidebar
      aside#sidebar_left.nano.nano-light.affix
        // Start: Sidebar Left Content
        +makeSidebar('maps_basic.html')
      // Start: Content-Wrapper
      section#content_wrapper
        // Start: Topbar-Dropdown
        #topbar-dropmenu.alt
          .topbar-menu.row
            .col-xs-4.col-sm-2
              a.metro-tile.bg-primary.light(href='#')
                span.glyphicon.glyphicon-inbox.text-muted
                span.metro-title Messages
            .col-xs-4.col-sm-2
              a.metro-tile.bg-info.light(href='#')
                span.glyphicon.glyphicon-user.text-muted
                span.metro-title Users
            .col-xs-4.col-sm-2
              a.metro-tile.bg-success.light(href='#')
                span.glyphicon.glyphicon-headphones.text-muted
                span.metro-title Support
            .col-xs-4.col-sm-2
              a.metro-tile.bg-system.light(href='#')
                span.glyphicon.glyphicon-facetime-video.text-muted
                span.metro-title Videos
            .col-xs-4.col-sm-2
              a.metro-tile.bg-warning.light(href='#')
                span.fa.fa-gears.text-muted
                span.metro-title Settings
            .col-xs-4.col-sm-2
              a.metro-tile.bg-alert.light(href='#')
                span.glyphicon.glyphicon-picture.text-muted
                span.metro-title Pictures
        // Start: Topbar
        header#topbar.alt
          .topbar-left
            ol.breadcrumb
              li.crumb-active
                a(href='index.html') Dashboard
              li.crumb-icon
                a(href='index.html')
                  span.glyphicon.glyphicon-home
              li.crumb-link
                a(href='index.html') Home
              li.crumb-trail Dashboard
          .topbar-right
            .ib.topbar-dropdown
              label.control-label.pr10.fs15.text-muted(for='topbar-multiple') Reporting Period
              select#topbar-multiple.hidden
                optgroup(label='Filter By:')
                  option(value='1-1') Last 30 Days
                  option(value='1-2', selected='selected') Last 60 Days
                  option(value='1-3') Last Year
            #toggle_sidemenu_r.ml15.ib.va-m
              a.pl5(href='#')
                i.fa.fa-sign-in.fs22.text-primary
                span.badge.badge-hero.badge-danger 3
        // Begin: Content
        section#content.animated.fadeIn
          .row
            .col-md-6
              .panel
                .br-b.panel-heading
                  span.panel-title
                    span.glyphicon.glyphicon-map-marker
                    | Searchable Map
                .panel-menu
                  .form-group
                    form#geocoding_form(method='post')
                      .col-xs-9.prn
                        input#address.form-control(type='text', name='address', placeholder='Enter an Address...')
                      .col-xs-3
                        input.btn.btn-default.light.btn-block(type='submit', value='Search')
                  .clearfix
                .panel-body
                  #map1.map
              .panel
                .br-b.panel-heading
                  span.panel-title
                    span.glyphicon.glyphicon-map-marker
                    | Map with List Filter
                .panel-body
                  #map_canvas4.map
                  #radio.map-gradient.map-rounded.map-shadow(style='border: 1px solid #AAA; margin:5px;padding:10px 10px 5px 10px;')
              .panel
                .br-b.panel-heading
                  span.panel-title
                    span.glyphicon.glyphicon-map-marker
                    | Standard Map
                .panel-body
                  #map_canvas1.map
            .col-md-6
              .panel
                .br-b.panel-heading
                  span.panel-title
                    span.glyphicon.glyphicon-map-marker
                    | Map with Clickable Locations
                .panel-menu
                  button.btn.btn-default.light.ph20.mr5(type='button', data-gmapping='{"id":"m_1","latlng":{"lat":27.6648274,"lng":-81.51575350000002},"tags":"drupal"}', data-title='Florida DrupalCamp - Feb 11 2012')
                    span.glyphicon.glyphicon-map-marker.pr5
                    | 1
                  button.btn.btn-default.light.ph20.mr5(type='button', data-gmapping='{"id":"m_2","latlng":{"lat":1.352083,"lng":103.81983600000001},"tags":"drupal"}', data-title='DrupalCamp Singapore - Mar 03 2012')
                    span.glyphicon.glyphicon-map-marker.pr5
                    | 2
                  button.btn.btn-default.light.ph20.mr5(type='button', data-gmapping='{"id":"m_3","latlng":{"lat":39.7391536,"lng":-104.9847034},"tags":"drupal"}', data-title='DrupalCon 2012 Denver - Mar 20 2012')
                    span.glyphicon.glyphicon-map-marker.pr5
                    | 3
                  button.btn.btn-default.light.ph20.mr5(type='button', data-gmapping='{"id":"m_4","latlng":{"lat":36.1658899,"lng":-86.7844432},"tags":"drupal"}', data-title='DrupalCamp Nashville - Apr 28 2012')
                    span.glyphicon.glyphicon-map-marker.pr5
                    | 4
                  button.btn.btn-default.light.ph20.mr5(type='button', data-gmapping='{"id":"m_5","latlng":{"lat":55.6760968,"lng":12.568337100000008},"tags":"drupal"}', data-title='Camp Copenhagen 5.0 - May 11 2012')
                    span.glyphicon.glyphicon-map-marker.pr5
                    | 5
                .panel-body
                  #map_canvas2.map
              .panel
                .br-b.panel-heading
                  span.panel-title
                    span.glyphicon.glyphicon-map-marker
                    | Map with Inner Pagination
                .panel-body
                  #map_canvas3.map
              .panel
                .br-b.panel-heading
                  span.panel-icon
                    i.glyphicon.glyphicon-map-marker
                  span.panel-title  Panorama Map
                .panel-body
                  #panorama.map
      // Start: Right Sidebar
      aside#sidebar_right.nano.affix
        // Start: Sidebar Right Content
        .sidebar-right-content.nano-content
          .tab-block.sidebar-block.br-n
            ul.nav.nav-tabs.tabs-border.nav-justified.hidden
              li.active
                a(href='#sidebar-right-tab1', data-toggle='tab') Tab 1
              li
                a(href='#sidebar-right-tab2', data-toggle='tab') Tab 2
              li
                a(href='#sidebar-right-tab3', data-toggle='tab') Tab 3
            .tab-content.br-n
              #sidebar-right-tab1.tab-pane.active
                h5.title-divider.text-muted.mb20
                  | Server Statistics
                  span.pull-right
                    | 2013
                    i.fa.fa-caret-down.ml5
                .progress.mh5
                  .progress-bar.progress-bar-primary(role='progressbar', aria-valuenow='45', aria-valuemin='0', aria-valuemax='100', style='width: 44%')
                    span.fs11 DB Request
                .progress.mh5
                  .progress-bar.progress-bar-info(role='progressbar', aria-valuenow='45', aria-valuemin='0', aria-valuemax='100', style='width: 84%')
                    span.fs11.text-left Server Load
                .progress.mh5
                  .progress-bar.progress-bar-warning(role='progressbar', aria-valuenow='45', aria-valuemin='0', aria-valuemax='100', style='width: 61%')
                    span.fs11.text-left Server Connections
                h5.title-divider.text-muted.mt30.mb10 Traffic Margins
                .row
                  .col-xs-5
                    h3.text-primary.mn.pl5 132
                  .col-xs-7.text-right
                    h3.text-success-dark.mn
                      i.fa.fa-caret-up
                      |  13.2%
                h5.title-divider.text-muted.mt25.mb10 Database Request
                .row
                  .col-xs-5
                    h3.text-primary.mn.pl5 212
                  .col-xs-7.text-right
                    h3.text-success-dark.mn
                      i.fa.fa-caret-up
                      |  25.6%
                h5.title-divider.text-muted.mt25.mb10 Server Response
                .row
                  .col-xs-5
                    h3.text-primary.mn.pl5 82.5
                  .col-xs-7.text-right
                    h3.text-danger.mn
                      i.fa.fa-caret-down
                      |  17.9%
                h5.title-divider.text-muted.mt40.mb20
                  | Server Statistics
                  span.pull-right.text-primary.fw600 USA
              #sidebar-right-tab2.tab-pane
              #sidebar-right-tab3.tab-pane
    // BEGIN: PAGE SCRIPTS
    // Load Google Map API
    script(src='http://maps.google.com/maps/api/js?sensor=true')
    // core scripts
    script(src='plugins/core.min.js')
    // Bootstrap
    script(src='plugins/map/gmaps.min.js')
    script(src='plugins/gmap/jquery.ui.map.min.js')
    script(src='plugins/gmap/ui/jquery.ui.map.extensions.min.js')
    // Theme Javascript
    script(src='assets/js/utility/utility.js')
    script(src='assets/js/demo/demo.js')
    script(src='assets/js/main.js')
    script(type='text/javascript').
      jQuery(document).ready(function () {
        "use strict";
        // Init Theme Core
        Core.init();
        // Init Demo JS
        Demo.init();
        // Initilize Gmap1 - basic
        if ($('#map_canvas1').length) {
          $('#map_canvas1').gmap({
            'center': '57.7973333,12.0502107',
            'zoom': 10,
            'disableDefaultUI': true,
            'callback': function () {
              var self = this;
              self.addMarker({
                'position': this.get('map').getCenter()
              }).click(function () {
                self.openInfoWindow({
                  'content': 'Hello World!'
                }, this);
              });
            }
          });
        }
        // Initilize Gmap2 - clickable movements
        $(function () {
          $('#map_canvas2').gmap({
            'disableDefaultUI': true,
            'callback': function () {
              var self = this;
              $("[data-gmapping]").each(function (i, el) {
                var data = $(el).data('gmapping');
                var title = $(el).data('title');
                self.addMarker({
                  'id': data.id,
                  'tags': data.tags,
                  'position': new google.maps.LatLng(data.latlng.lat, data.latlng.lng),
                  'bounds': true
                }, function (map, marker) {
                  $(el).click(function () {
                    $(marker).triggerEvent('click');
                  });
                }).click(function () {
                  self.openInfoWindow({
                    'content': title
                  }, this);
                });
              });
            }
          });
        });
        // Initilize Gmap3 - Navigation Pager
        $(function () {
          var markers = [{
            'position': '59.32893000000001,18.064910000000054',
            'title': 'Stockholm, Sweden'
          }, {
            'position': '35.6894875,139.69170639999993',
            'title': 'Tokyo, Japan'
          }, {
            'position': '13.7234186, 100.47623190000002',
            'title': 'Bangkok, Thailand'
          }, {
            'position': '51.508129,-0.12800500000003012',
            'title': 'London, Great Britain'
          }, {
            'position': '40.7143528,-74.0059731',
            'title': 'New York, USA'
          }, {
            'position': '48.856614,2.3522219000000177',
            'title': 'Paris, France'
          }, {
            'position': '34.0522342,-118.2436849',
            'title': 'Los Angeles, USA'
          }, {
            'position': '55.75,37.616666699999996',
            'title': 'Moskva, Ryssia'
          }];
          $('#map_canvas3').gmap({
            'zoom': 5,
            'disableDefaultUI': true,
            'callback': function () {
              var self = this;
              $.each(markers, function (i, marker) {
                self.addMarker(marker).click(function () {
                  self.openInfoWindow({
                    'content': this.title
                  }, this);
                });
              });
            }
          }).gmap('pagination', 'title');
        });
        // Initilize Gmap4 - Navigation Menu
        $(function () {
          String.prototype.format = function () {
            var a = this;
            for (var k in arguments) {
              a = a.replace("{" + k + "}", arguments[k]);
            }
            return a;
          };
          $('#map_canvas4').gmap({
            'disableDefaultUI': true
          }).bind('init', function (evt, map) {
            $('#map_canvas4').gmap('addControl', 'radio', google.maps.ControlPosition.TOP_LEFT);
            var southWest = map.getBounds().getSouthWest();
            var northEast = map.getBounds().getNorthEast();
            var lngSpan = northEast.lng() - southWest.lng();
            var latSpan = northEast.lat() - southWest.lat();
            var tags = ['jQuery', 'Google maps', 'Plugin', 'SEO', 'Java', 'PHP', 'C#', 'Ruby', 'JavaScript', 'HTML'];
            $.each(tags, function (i, tag) {
              $('#radio').append(('<div class="checkbox-custom mb5"><input type="checkbox" id="' + tag + '" value="{0}"/><label for="' + tag + '">{1}</label></div>').format(tag, tag));
            });
            for (var i = 0; i < 20; i++) {
              var temp = [];
              for (var j = 0; j < Math.random() * 5; j++) {
                temp.push(tags[Math.floor(Math.random() * 5)]);
              }
              $('#map_canvas4').gmap('addMarker', {
                'tags': temp,
                'bound': true,
                'position': new google.maps.LatLng(southWest.lat() + latSpan * Math.random(), southWest.lng() + lngSpan * Math.random())
              }).click(function () {
                var visibleInViewport = ($('#map_canvas4').gmap('inViewport', $(this)[0])) ? 'I\'m visible in the viewport.' : 'I\'m sad and hidden.';
                $('#map_canvas4').gmap('openInfoWindow', {
                  'content': $(this)[0].tags + '<br/>' + visibleInViewport
                }, this);
              });
            }
            $('input:checkbox').click(function () {
              $('#map_canvas4').gmap('closeInfoWindow');
              $('#map_canvas4').gmap('set', 'bounds', null);
              var filters = [];
              $('input:checkbox:checked').each(function (i, checkbox) {
                filters.push($(checkbox).val());
              });
              if (filters.length > 0) {
                $('#map_canvas4').gmap('find', 'markers', {
                  'property': 'tags',
                  'value': filters,
                  'operator': 'OR'
                }, function (marker, found) {
                  if (found) {
                    $('#map_canvas4').gmap('addBounds', marker.position);
                  }
                  marker.setVisible(found);
                });
              } else {
                $.each($('#map_canvas4').gmap('get', 'markers'), function (i, marker) {
                  $('#map_canvas4').gmap('addBounds', marker.position);
                  marker.setVisible(true);
                });
              }
            });
          });
        });
        // Init GMaps Plugin - NOT the same plugin as above
        var map = new GMaps({
          div: '#map1',
          lat: -12.043333,
          lng: -77.028333,
        });
        // Add a working search bar to GMap
        $('#geocoding_form').submit(function (e) {
          e.preventDefault();
          GMaps.geocode({
            address: $('#address').val().trim(),
            callback: function (results, status) {
              if (status == 'OK') {
                var latlng = results[0].geometry.location;
                map.setCenter(latlng.lat(), latlng.lng());
                map.addMarker({
                  lat: latlng.lat(),
                  lng: latlng.lng()
                });
              }
            }
          });
        });
        // Init GMaps Plugin - Streetview Panorama
        var panorama = GMaps.createPanorama({
          el: '#panorama',
          lat: 51.693249,
          lng: -0.419630,
          pov: {
            heading: 194,
            pitch: 8
          }
        });
      });